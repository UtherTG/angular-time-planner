{"version":3,"file":"angular-time-planner.js","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c6d714a750b292f2baf1","webpack:///src/timePlannerLocales/time-planner-locale_en-us.js","webpack:///src/timePlannerCell/timePlannerCellDirective.js","webpack:///src/timePlannerContainer/timePlannerContainerDirective.js","webpack:///src/timePlannerRow/timePlannerRowDirective.js","webpack:///./styles/angular-time-planner.scss","webpack:///src/angular-time-planner.js","webpack:///./~/deepmerge/dist/cjs.js","webpack:///./src/timePlannerContainer/timePlannerContainerTemplate.html","webpack:///./src/timePlannerRow/timePlannerRowTemplate.html","webpack:///./src/timePlannerLocales ^\\.\\/time\\-planner\\-locale_.*$","webpack:///./src/timePlannerCell/timePlannerCellTemplate.html"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angularTimePlanner\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angularTimePlanner\"] = factory();\n\telse\n\t\troot[\"angularTimePlanner\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c6d714a750b292f2baf1","module.exports = {\r\n  labels: {\r\n    rowTitle: 'Tasks',\r\n    counterTitle: {\r\n      days: 'Days',\r\n      hours: 'Hours'\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// src/timePlannerLocales/time-planner-locale_en-us.js","import template from './timePlannerCellTemplate.html';\r\n\r\nangular\r\n  .module('timePlannerCellDirective', [])\r\n  .directive('timePlannerCell', ['$rootScope', ($rootScope) => {\r\n    let link = (scope) => {\r\n      scope.onHoverEvent = onHoverEvent;\r\n      scope.onClickEvent = dispatchClickEvent;\r\n\r\n      function onHoverEvent(item) {\r\n        scope.$parent.highlightedItem = item;\r\n      }\r\n\r\n      function dispatchClickEvent(item) {\r\n        $rootScope.$broadcast('ATP_SEGMENT_ON_CLICK', item);\r\n      }\r\n    };\r\n\r\n    return {\r\n      restrict: 'A',\r\n      template: template,\r\n      link: link\r\n    };\r\n  }]);\r\n\n\n\n// WEBPACK FOOTER //\n// src/timePlannerCell/timePlannerCellDirective.js","import template from './timePlannerContainerTemplate.html';\r\nimport merge from 'deepmerge';\r\n\r\nangular\r\n  .module('timePlannerContainerDirective', [])\r\n  .directive('timePlannerContainer', ['$locale', 'LOCALES', ($locale, LOCALES) => {\r\n    let link = (scope) => {\r\n      let\r\n        _localeId = LOCALES.AVAILABLE.includes($locale.id) ? $locale.id : LOCALES.DEFAULT,\r\n        _defaultOptions = {\r\n          timeScope: 'week',\r\n          needCounter: false\r\n        };\r\n\r\n      // we use an object with merged default locale and scope override(if any)\r\n      scope.locale = merge(require(`../timePlannerLocales/time-planner-locale_${_localeId}`), scope.options.locale);\r\n      // merge defaults with user options\r\n      scope.options = merge(_defaultOptions, scope.options);\r\n\r\n      scope.segments = _getSegments();\r\n\r\n      // Get segments for planner, hours, week, dates range. Default is a week.\r\n      function _getSegments() {\r\n        switch (scope.options.timeScope) {\r\n          case 'day':\r\n            // reserved for future use\r\n            break;\r\n          case 'range':\r\n            // reserved for future use\r\n            break;\r\n          case 'week':\r\n          default:\r\n            return _getWeekDays();\r\n        }\r\n      }\r\n\r\n      // I use only days from locales. First day of the week is the same as Date() (0 - Sun)\r\n      function _getWeekDays() {\r\n        let\r\n          week = [...$locale.DATETIME_FORMATS.SHORTDAY],\r\n          alteredWeek = week.splice(scope.options.firstDay  || 0, week.length);\r\n        return [...alteredWeek, ...week];\r\n      }\r\n\r\n    };\r\n\r\n    return {\r\n      restrict: 'E',\r\n      scope: {\r\n        options: '=',\r\n        rows: '='\r\n      },\r\n      link: link,\r\n      template: template\r\n    };\r\n  }]);\r\n\n\n\n// WEBPACK FOOTER //\n// src/timePlannerContainer/timePlannerContainerDirective.js","import template from './timePlannerRowTemplate.html';\r\n\r\nangular\r\n  .module('timePlannerRowDirective', [])\r\n  .directive('timePlannerRow', () => {\r\n    let link = (scope) => {\r\n      let _methods = {\r\n        week: {\r\n          fillSegments: _fillSegmentsForWeek\r\n        }\r\n      };\r\n\r\n      _prepareItems();\r\n\r\n      function _prepareItems() {\r\n        scope.row.segments = [];\r\n        scope.row.hours = 0;\r\n        scope.$parent.segments.forEach(() => scope.row.segments.push([]));\r\n        scope.row.items.forEach(_methods[scope.$parent.options.timeScope].fillSegments);\r\n      }\r\n\r\n      function _fillSegmentsForWeek(item) {\r\n        let\r\n          scheduledStart = new Date(item.scheduled_start),\r\n          scheduledEnd = new Date(item.scheduled_end),\r\n          msInDay = 24 * 60 * 60 * 1000,\r\n          itemLength, firstDayNumber;\r\n\r\n        scheduledStart.setHours(0,0,0,0);\r\n        scheduledEnd.setHours(23,59,59,999);\r\n\r\n        scheduledStart = scheduledStart < scope.$parent.options.from ? scope.$parent.options.from : scheduledStart;\r\n        scheduledEnd = scheduledEnd > scope.$parent.options.to ? scope.$parent.options.to : scheduledEnd;\r\n        firstDayNumber = scheduledStart.getDay();\r\n\r\n        itemLength = Math.ceil(Math.abs((scheduledStart.getTime() - scheduledEnd.getTime()) / msInDay));\r\n        scope.row.hours += itemLength * 8;\r\n\r\n        for (let i = 0; i < itemLength; i++) {\r\n          scope.row.segments[firstDayNumber + i].push(item);\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      restrict: 'A',\r\n      template: template,\r\n      link: link\r\n    };\r\n  });\r\n\n\n\n// WEBPACK FOOTER //\n// src/timePlannerRow/timePlannerRowDirective.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/angular-time-planner.scss\n// module id = 4\n// module chunks = 0","'use strict';\r\n\r\nimport './timePlannerContainer/timePlannerContainerDirective';\r\nimport './timePlannerRow/timePlannerRowDirective';\r\nimport './timePlannerCell/timePlannerCellDirective';\r\n\r\nimport '../styles/angular-time-planner.scss';\r\n\r\nangular\r\n  .module('angularTimePlanner', ['timePlannerContainerDirective', 'timePlannerRowDirective', 'timePlannerCellDirective'])\r\n  .constant('LOCALES', {\r\n    DEFAULT: 'en-us',\r\n    AVAILABLE: ['en-us']\r\n  });\r\n\n\n\n// WEBPACK FOOTER //\n// src/angular-time-planner.js","'use strict';\n\nvar index$2 = function isMergeableObject(value) {\n\treturn isNonNullObject(value) && isNotSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isNotSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue !== '[object RegExp]'\n\t\t&& stringValue !== '[object Date]'\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true;\n    return (clone && index$2(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice();\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument);\n        } else if (index$2(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument);\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument));\n        }\n    });\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {};\n    if (index$2(target)) {\n        Object.keys(target).forEach(function(key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument);\n        });\n    }\n    Object.keys(source).forEach(function(key) {\n        if (!index$2(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument);\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument);\n        }\n    });\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var array = Array.isArray(source);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge };\n    var arrayMerge = options.arrayMerge || defaultArrayMerge;\n\n    if (array) {\n        return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n};\n\nvar index = deepmerge;\n\nmodule.exports = index;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deepmerge/dist/cjs.js\n// module id = 6\n// module chunks = 0","module.exports = \"<div class=atp-container><div class=atp-head><div class=atp-row><div class=\\\"atp-cell atpr-title\\\">{{locale.labels.rowTitle}}</div><div class=\\\"atp-cell atpr-counter\\\" ng-if=options.needCounter>{{locale.labels.counterTitle.hours}}</div><div class=\\\"atp-cell week-day atp-segment\\\" ng-repeat=\\\"segment in segments\\\">{{segment}}</div></div></div><div class=atp-row time-planner-row ng-repeat=\\\"row in rows\\\"></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/timePlannerContainer/timePlannerContainerTemplate.html\n// module id = 7\n// module chunks = 0","module.exports = \"<div class=\\\"atp-cell atpr-title\\\">{{row.title}}</div><div class=\\\"atp-cell atpr-counter\\\" ng-if=options.needCounter>{{row.hours || 0}}</div><div class=\\\"atp-cell week-day atp-segment\\\" ng-repeat=\\\"segment in row.segments\\\" time-planner-cell></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/timePlannerRow/timePlannerRowTemplate.html\n// module id = 8\n// module chunks = 0","var map = {\n\t\"./time-planner-locale_en-us\": 0,\n\t\"./time-planner-locale_en-us.js\": 0\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 9;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/timePlannerLocales ^\\.\\/time\\-planner\\-locale_.*$\n// module id = 9\n// module chunks = 0","module.exports = \"<div class=atp-segment-item-wrapper><div class=atp-segment-item ng-repeat=\\\"item in segment\\\" ng-class=\\\"[item.segmentType, {'highlighted': (item.id === highlightedItem.id)}]\\\" ng-mouseenter=onHoverEvent(item) ng-mouseleave=onHoverEvent() ng-click=onClickEvent(item)></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/timePlannerCell/timePlannerCellTemplate.html\n// module id = 11\n// module chunks = 0"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AADA;;;;;;;;;ACAA;AACA;;;;;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;;ACvBA;AACA;;;AAAA;AACA;;;;;;;AACA;AAGA;AACA;AAAA;AAGA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AASA;;;;;;;;;ACvDA;AACA;;;;;AACA;AAGA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;ACjDA;;;;;;;ACAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAFA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClFA;;;;;;ACAA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;;;;A","sourceRoot":""}